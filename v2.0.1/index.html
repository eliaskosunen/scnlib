<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8"/>
  <title>scnlib scanf for modern C++</title>
  <link href="favicon-dark.png" rel="icon" type="image/png"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="#22272e" name="theme-color"/>
  <link href="../poxy/poxy.css" referrerpolicy="no-referrer" rel="stylesheet"/>
  <script src="../poxy/poxy.js"></script>
  <script>initialize_theme("dark");</script>
  <meta content="scnlib" name="twitter:title"/>
  <meta content="scnlib" property="og:title"/>
  <meta content="scnlib" itemprop="name"/>
  <meta content="Elias Kosunen" name="author"/>
  <meta content="Elias Kosunen" property="article:author"/>
  <meta content="scanf for modern C++" name="description"/>
  <meta content="scanf for modern C++" name="twitter:description"/>
  <meta content="scanf for modern C++" property="og:description"/>
  <meta content="scanf for modern C++" itemprop="description"/>
  <meta content="telephone=no" name="format-detection"/>
  <meta content="Poxy v0.19.1" name="generator"/>
  <meta content="strict-origin-when-cross-origin" name="referrer"/>
</head>
<body class="poxy-has-toc">
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a class="m-col-t-8 m-col-m-none m-left-m" href="index.html" id="m-navbar-brand">scnlib <span class="m-thin">scanf for modern C++</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a class="m-doc-search-icon" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z" id="m-doc-search-icon-path"></path>
        </svg></a>
        <a href="#navigation" id="m-navbar-show" title="Show navigation"></a>
        <a href="#" id="m-navbar-hide" title="Hide navigation"></a>
      </div>
      <div class="m-col-t-12 m-show-m m-col-m-none m-right-m" id="m-navbar-collapse">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="namespaces.html">Namespaces</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="modules.html">Modules</a></li>
            <li><a href="pages.html">Pages</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="5">
            <li><a class="poxy-icon repo github poxy-external" href="https://github.com/eliaskosunen/scnlib" target="_blank" title="View on GitHub"><svg id="poxy-icon-repo" version="1.1" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg"><path d="M25,1.23a24.37,24.37,0,0,0-7.7,47.5C18.51,49,19,48.2,19,47.56s0-2.12,0-4.15c-6.78,1.47-8.21-3.27-8.21-3.27C9.61,37.33,8,36.58,8,36.58c-2.21-1.51.17-1.48.17-1.48a5.12,5.12,0,0,1,3.73,2.51c2.17,3.72,5.7,2.65,7.09,2a5.25,5.25,0,0,1,1.55-3.26c-5.41-.61-11.1-2.7-11.1-12A9.41,9.41,0,0,1,12,17.79a8.75,8.75,0,0,1,.24-6.45s2-.66,6.7,2.49a23.1,23.1,0,0,1,12.2,0c4.66-3.15,6.7-2.49,6.7-2.49A8.75,8.75,0,0,1,38,17.79a9.41,9.41,0,0,1,2.51,6.54c0,9.36-5.7,11.42-11.13,12a5.83,5.83,0,0,1,1.65,4.51c0,3.26,0,5.89,0,6.69,0,.65.44,1.41,1.68,1.17A24.38,24.38,0,0,0,25,1.23Z" fill="currentColor"></path></svg></a></li>
            <li class="poxy-navbar-version-selector"><a href="index.html">Version: v2.0.1</a><ol><li><a href="../index.html">HEAD</a></li><li><a href="../v3.0.2/index.html">v3.0.2</a></li><li><a href="../v3.0.1/index.html">v3.0.1</a></li><li><a href="../v3.0.0/index.html">v3.0.0</a></li><li><a href="../v2.0.3/index.html">v2.0.3</a></li><li><a href="../v2.0.2/index.html">v2.0.2</a></li><li><a href="index.html">v2.0.1</a></li><li><a href="../v2.0.0/index.html">v2.0.0</a></li></ol></li>
            <li><a class="poxy-icon theme" href="javascript:void(null);" id="poxy-theme-switch" onclick="toggle_theme(); return false;" role="button" title="Toggle dark and light themes"><svg id="poxy-theme-switch-img" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><circle cx="185.6708" cy="183.8122" fill="currentColor" r="65.625"></circle><path d="M185.6708,87.5622a13.1256,13.1256,0,0,0,13.125-13.125V52.5622a13.125,13.125,0,1,0-26.25,0v21.875A13.1257,13.1257,0,0,0,185.6708,87.5622Z" fill="currentColor"></path><path d="M99.051,115.7519a13.1236,13.1236,0,1,0,18.56-18.56L102.1442,81.726a13.1236,13.1236,0,0,0-18.5595,18.56Z" fill="currentColor"></path><path d="M89.4208,183.8122a13.1257,13.1257,0,0,0-13.125-13.125H54.4208a13.125,13.125,0,0,0,0,26.25h21.875A13.1256,13.1256,0,0,0,89.4208,183.8122Z" fill="currentColor"></path><path d="M99.051,251.8725,83.5847,267.3431a13.1236,13.1236,0,1,0,18.56,18.56l15.4663-15.4706a13.1236,13.1236,0,1,0-18.5595-18.56Z" fill="currentColor"></path><path d="M185.6708,280.0622a13.1258,13.1258,0,0,0-13.125,13.125v21.875a13.125,13.125,0,0,0,26.25,0v-21.875A13.1257,13.1257,0,0,0,185.6708,280.0622Z" fill="currentColor"></path><path d="M272.2907,251.8725a13.1236,13.1236,0,1,0-18.56,18.56l15.4663,15.4706a13.1236,13.1236,0,1,0,18.56-18.56Z" fill="currentColor"></path><path d="M330.0458,183.8122a13.1257,13.1257,0,0,0-13.125-13.125h-21.875a13.125,13.125,0,0,0,0,26.25h21.875A13.1256,13.1256,0,0,0,330.0458,183.8122Z" fill="currentColor"></path><path d="M263.0109,119.5971a13.0824,13.0824,0,0,0,9.28-3.8452l15.4663-15.4663a13.1236,13.1236,0,1,0-18.56-18.56L253.7312,97.1923a13.125,13.125,0,0,0,9.28,22.4048Z" fill="currentColor"></path><path d="M456.9379,401.6714a63.97,63.97,0,0,1-14.9963,7.2055c-19.6448,6.5283-41.8787,2.9566-58.1439-9.8523a68.9311,68.9311,0,0,1-10.835-10.8339c-12.8088-16.2663-16.3806-38.5-9.8523-58.1471a63.8444,63.8444,0,0,1,7.2077-14.9931,8.8036,8.8036,0,0,0-10.1172-13.3034,87.5188,87.5188,0,1,0,110.0372,110.04A8.8,8.8,0,0,0,456.9379,401.6714Z" fill="currentColor"></path></svg></a></li>
            <li class="m-show-m"><a class="m-doc-search-icon" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path"></use>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          scnlib
        </h1>
        <nav class="m-block m-default poxy-toc" id="poxy-toc">
          <h3>Contents</h3>
          <ul>
            <li><a href="#main-about">About this documentation</a></li>
            <li>
              <a href="#main-install">Installation</a>
              <ul>
                <li><a href="#main-deps">Dependencies</a></li>
                <li><a href="#main-tests">Tests and benchmarks</a></li>
                <li><a href="#main-without-cmake">Without CMake</a></li>
              </ul>
            </li>
            <li><a href="#main-license">License</a></li>
          </ul>
        </nav>
<p><code>scnlib</code> is a modern C++ library for scanning values. Think of it as a more C++-y <code>scanf</code>, or the inverse of <a class="poxy-external" href="https://fmt.dev" target="_blank">{fmt}</a> / <code><a class="m-doc-external poxy-cppreference poxy-external" href="http://en.cppreference.com/w/cpp/utility/format/format.html" target="_blank">std::<wbr/>format</a></code>.</p><p>The code lives over at GitHub, at <a class="poxy-external" href="https://github.com/eliaskosunen/scnlib" target="_blank">https:/<wbr/>/<wbr/>github.com/<wbr/>eliaskosunen/<wbr/>scnlib</a>.</p><pre class="m-code"><span class="cp">#include</span> <span class="cpf">&lt;scn/scan.h&gt;</span>
<span class="cp">#include</span> <span class="cpf">&lt;print&gt;</span><span class="c1"> // for std::print, C++23</span>

<span class="k">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">auto</span> <span class="n">result</span> <span class="o">=</span> <span class="nn">scn</span><span class="o">::</span><span class="nf">scan</span><span class="o">&lt;</span><span class="k">int</span><span class="p">,</span> <span class="k">double</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"[42, 3.14]"</span><span class="p">,</span> <span class="s">"[{}, {}]"</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">auto</span> <span class="p">[</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="o">-&gt;</span><span class="nf">values</span><span class="p">();</span>
        <span class="nn">std</span><span class="o">::</span><span class="nf">println</span><span class="p">(</span><span class="s">"first: {}, second: {}"</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">);</span>
        <span class="c1">// Prints "first: 42, second: 3.14\n"</span>
    <span class="p">}</span>
<span class="p">}</span></pre><section id="main-about"><h2><a href="#main-about">About this documentation</a></h2><p>This documentation is for the version 2.0 of the library. For version 1.1, see <a class="poxy-external" href="https://v1.scnlib.dev/" target="_blank">https:/<wbr/>/<wbr/>v1.scnlib.dev/<wbr/></a>.</p><p>An introductory guide to the library can be found at <a class="m-doc" href="guide.html">Guide</a>. Instructions for migrating to v2.0 from v1.1 can be found at <a class="m-doc" href="migration-2-0.html">Migration Guide v1.1 -&gt; v2.0</a>.</p><p>The API documentation is organized into modules, that can be found under Modules, behind the link at the top of the page. It can be searched directly using the search function in the navbar, or by pressing the TAB key. The most important modules are probably:</p><ul><li><a class="m-doc" href="group__scan.html">Basic scanning API</a></li><li><a class="m-doc" href="group__scannable.html">Scannable sources</a></li><li><a class="m-doc" href="group__format-string.html">Format strings</a></li><li><a class="m-doc" href="group__result.html">Result types</a></li></ul></section><section id="main-install"><h2><a href="#main-install">Installation</a></h2><aside class="m-note m-info"><h4>Note</h4><p>The following instructions assume a Unix-like system with a command line. If your development environment is different (e.g. Visual Studio), these steps cannot be followed verbatim. Some IDEs, like Visual Studio and CLion, have CMake integration built into them. In some other environments, you may have to use the CMake GUI or your system's command line. To build a CMake project without <code>make</code>, use <code>cmake --build .</code>.</p></aside><p>scnlib uses CMake for building. If you're already using CMake for your project, integration is easy with <code>find_package</code>.</p><pre class="m-code">$ mkdir build
$ <span class="nb">cd</span> build
$ cmake ..
$ make -j
$ make install</pre><pre class="m-code"><span class="c"># Find scnlib package</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">scn</span> <span class="s">CONFIG</span> <span class="s">REQUIRED</span><span class="p">)</span>

<span class="c"># Target which you'd like to use scnlib</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="s">my_program</span> <span class="s">...</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">my_program</span> <span class="s">scn::scn</span><span class="p">)</span></pre><p>Another option would be usage through CMake's <code>FetchContent</code> module.</p><pre class="m-code"><span class="nb">FetchContent_Declare</span><span class="p">(</span>
        <span class="s">scn</span>
        <span class="s">GIT_REPOSITORY</span>  <span class="s">https://github.com/eliaskosunen/scnlib</span>
        <span class="s">GIT_TAG</span>         <span class="s">v2.0.1</span>
        <span class="s">GIT_SHALLOW</span>     <span class="s">TRUE</span>
<span class="p">)</span>
<span class="nb">FetchContent_MakeAvailable</span><span class="p">(</span><span class="s">scn</span><span class="p">)</span>

<span class="c"># ...</span>

<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">my_program</span> <span class="s">scn::scn</span><span class="p">)</span></pre><section id="main-deps"><h3><a href="#main-deps">Dependencies</a></h3><p>scnlib internally depends on <a class="poxy-external" href="https://github.com/fastfloat/fast_float" target="_blank">fast_<wbr/>float</a> and <a class="poxy-external" href="https://github.com/simdutf/simdutf" target="_blank">simdutf</a>.</p><p>By default, the CMake machinery automatically fetches, builds, and links these libraries through <code>FetchContent</code>. These libraries are only used in the implementation, and they are not visible to the users of the library.</p><p>Alternatively, by setting the CMake options <code>SCN_USE_EXTERNAL_FAST_FLOAT</code> or <code>SCN_USE_EXTERNAL_SIMDUTF</code> to <code>ON</code>, these libraries are searched for using <code>find_package</code>. Use these options, if you already have these libraries installed.</p><p>If your standard library doesn't have an available C++20 <code>&lt;ranges&gt;</code> implementation, a single-header version of <a class="poxy-external" href="https://github.com/tcbrindle/nanorange" target="_blank">NanoRange</a> is also bundled with the library, inside the directory <code>include/scn/external</code>.</p><p>The tests and benchmarks described below depend on GTest and Google Benchmark, respectively. These libraries are also fetched with <code>FetchContent</code>, if necessary.</p></section><section id="main-tests"><h3><a href="#main-tests">Tests and benchmarks</a></h3><p>To build and run the tests and benchmarks for scnlib, clone the repository, and build it with CMake.</p><p>Building and running tests:</p><pre class="m-code">$ mkdir build
$ <span class="nb">cd</span> build
$ cmake -DCMAKE_BUILD_TYPE<span class="o">=</span>Debug ..
$ make -j
$ ctest -j</pre><p>Building and running the runtime performance benchmarks:</p><pre class="m-code"><span class="c1"># create build directory like above</span>
$ cmake -DCMAKE_BUILD_TYPE<span class="o">=</span>Release -DCMAKE_INTERPROCEDURAL_OPTIMIZATION<span class="o">=</span>ON -DSCN_NATIVE_ARCH<span class="o">=</span>ON ..
$ make -j

<span class="c1"># disable CPU frequency scaling</span>
$ sudo cpupower frequency-set --governor performance

<span class="c1"># run the benchmark of your choosing</span>
$ ./benchmark/runtime/integer/scn_int_bench

<span class="c1"># re-enable CPU frequency scaling</span>
$ sudo cpupower frequency-set --governor powersave</pre></section><section id="main-without-cmake"><h3><a href="#main-without-cmake">Without CMake</a></h3><p>As mentioned above, the implementation of scnlib depends on fast_float and simdutf. If you're not using CMake, you'll need to download and build these libraries yourself.</p><p>Headers for scnlib can be found from the <code>include/</code> directory, and source files from the <code>src/</code> directory.</p><p>Building and linking the library:</p><pre class="m-code">$ mkdir build
$ <span class="nb">cd</span> build
$ c++ -c -I../include/ ../src/*.cpp -Ipath-to-fast-float -Ipath-to-simdutf
$ ar rcs libscn.a *.o</pre><p><code>libscn.a</code> can then be linked, as usual, with your project. Don't forget to also include <code>fast_float</code> and <code>simdutf</code>.</p><pre class="m-code"><span class="c1"># in your project</span>
$ c++ ... -Lpath-to-scn/build -lscn -Lpath-to-fast-float -lfast_float -Lpath-to-simdutf -lsimdutf</pre><p>Note, that scnlib requires at least C++17, so –std=c++17 (or equivalent, or newer) may need to be included in the build flags.</p></section></section><section id="main-license"><h2><a href="#main-license">License</a></h2><p>The library is open source, licensed under the Apache License, version 2.0.<br/>Copyright (c) 2017 Elias Kosunen<br/>For further details, see the LICENSE file in the repository.</p></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">…</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input autocomplete="off" autofocus="autofocus" disabled="disabled" id="search-input" name="q" placeholder="Loading …" spellcheck="false" type="search"/>
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div class="m-text m-dim m-text-center" id="search-help">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">↓</span>
            / <span class="m-label m-dim">↑</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div class="m-text m-warning m-text-center" id="search-notfound">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script><script>install_mcss_search_shim();</script>
<script async="async" src="searchdata-v2.js"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        
<a class="poxy-external" href="https://github.com/eliaskosunen/scnlib" target="_blank">GitHub</a>
• <a class="poxy-external" href="https://github.com/eliaskosunen/scnlib/issues" target="_blank">Report an issue</a>
• <a class="poxy-external" href="https://github.com/eliaskosunen/scnlib/blob/dev/LICENSE" target="_blank">License</a>
• <a download="" href="scnlib.tagfile.xml" target="_blank" type="text/xml">Doxygen tagfile</a>
<br/><br/>
Site generated using <a class="poxy-external" href="https://github.com/marzer/poxy/" target="_blank">Poxy</a>

      </div>
    </div>
  </div>
</nav></footer>


</body></html>